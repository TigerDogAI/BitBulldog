% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/BD_SID_creator.R
\name{BD_SID_creator}
\alias{BD_SID_creator}
\title{Create a stable, de-identified SID from name, DOB, and gender}
\usage{
BD_SID_creator(first_name, last_name, DOB_ready, gender, strip_accents = FALSE)
}
\arguments{
\item{first_name, last_name}{Vectors coercible to character. Only letters are kept.
If fewer than 2 letters remain, that component is treated as missing.}

\item{DOB_ready}{A vector of dates (\code{Date}, \code{POSIXt}, character, or numeric).}

\item{gender}{Vector coercible to character; first character used.}

\item{strip_accents}{Logical, attempt to transliterate accents before cleaning.}
}
\value{
A character vector of SIDs. Rows with any missing component are \code{"Invalid SID"}.
}
\description{
\code{BD_SID_creator()} builds an SID by concatenating:
\itemize{
\item First 2 letters of the \strong{first name} (A–Z only, uppercased)
\item First 2 letters of the \strong{last name} (A–Z only, uppercased)
\item \strong{DOB} as \code{"YYYYMMDD"}
\item First letter of \strong{gender} (uppercased)
}

Any row with a missing component yields \code{"Invalid SID"}.
}
\details{
\itemize{
\item Fully vectorized; works directly inside \code{dplyr::mutate()}.
\item Accepts DOB as \code{Date}, \code{POSIXt}, character, or numeric (e.g. \code{20240101}).
\item Character DOBs are parsed against these formats:
\verb{"\%Y-\%m-\%d", "\%m/\%d/\%Y", "\%d/\%m/\%Y", "\%Y/\%m/\%d", "\%Y\%m\%d", "\%d-\%b-\%Y", "\%b \%d, \%Y"}.
\item Name cleaning removes non-letters \verb{[A-Za-z]}. If you expect accents,
see \strong{Accent handling} below.
}
}
\section{Accent handling}{

By default, only ASCII letters are kept. To turn “José” into “JO” rather than
dropping the accented character, set \code{strip_accents = TRUE} (uses base \code{iconv}
to transliterate where possible).
}

\examples{
# Simple vectors
BD_SID_creator("Ann", "O'Neil", "1990-07-03", "F")
BD_SID_creator(c("Li", "Élodie"), c("Xu", "Brûlé"),
               c("2000/01/02", "03/14/1999"),
               c("M", "f"), strip_accents = TRUE)

# Inside dplyr
# dplyr::mutate(df, SID = BD_SID_creator(FIRST_NAME, LAST_NAME, DOB, SEX))

}
